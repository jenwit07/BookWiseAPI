{"version":3,"sources":["../../../src/app/controllers/productsImpl.js"],"names":["getBooksList","req","res","then","obj","json","success","cur_page","per_page","page_items","count","page_all","Math","ceil","data","rows","e","console","error","getProductsList","getProductsAtStores","storeID","query","store_id","isbn"],"mappings":";;;;;;;;;;;;;AAAA;;AAMO,IAAMA,YAAY;AAAA,2FAAG,iBAAOC,GAAP,EAAYC,GAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACpB,0BAAYD,GAAZ,EACHE,IADG,CACE,UAACC,GAAD,EAAS;AACbF,cAAAA,GAAG,CAACG,IAAJ,CAAS;AACPC,gBAAAA,OAAO,EAAE,IADF;AAEPC,gBAAAA,QAAQ,EAAEN,GAAG,CAACM,QAAJ,GAAeN,GAAG,CAACM,QAAnB,GAA8B,CAFjC;AAGPC,gBAAAA,QAAQ,EAAEP,GAAG,CAACO,QAAJ,GAAeP,GAAG,CAACO,QAAnB,GAA8B,IAHjC;AAIPC,gBAAAA,UAAU,EAAEL,GAAG,CAACM,KAJT;AAKPC,gBAAAA,QAAQ,EAAEC,IAAI,CAACC,IAAL,CAAUT,GAAG,CAACM,KAAJ,GAAYT,GAAG,CAACO,QAA1B,CALH;AAMPM,gBAAAA,IAAI,EAAEV,GAAG,CAACW;AANH,eAAT;AAQD,aAVG,WAWG,UAACC,CAAD,EAAO;AACZC,cAAAA,OAAO,CAACC,KAAR,CAAcF,CAAd;AACAd,cAAAA,GAAG,CAACG,IAAJ,CAAS;AACPC,gBAAAA,OAAO,EAAE,KADF;AAEPQ,gBAAAA,IAAI;AAFG,eAAT;AAID,aAjBG,CADoB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAZd,YAAY;AAAA;AAAA;AAAA,GAAlB;;;;AAqBA,IAAMmB,eAAe;AAAA,4FAAG,kBAAOlB,GAAP,EAAYC,GAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACvB,+BACHC,IADG,CACE,UAACC,GAAD,EAAS;AACbF,cAAAA,GAAG,CAACG,IAAJ,CAAS;AACPC,gBAAAA,OAAO,EAAE,IADF;AAEPQ,gBAAAA,IAAI,EAAEV;AAFC,eAAT;AAID,aANG,WAOG,UAACY,CAAD,EAAO;AACZC,cAAAA,OAAO,CAACC,KAAR,CAAcF,CAAd;AACAd,cAAAA,GAAG,CAACG,IAAJ,CAAS;AACPC,gBAAAA,OAAO,EAAE,KADF;AAEPQ,gBAAAA,IAAI;AAFG,eAAT;AAID,aAbG,CADuB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAfK,eAAe;AAAA;AAAA;AAAA,GAArB;;;;AAiBA,IAAMC,mBAAmB;AAAA,4FAAG,kBAAOnB,GAAP,EAAYC,GAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAC7BmB,YAAAA,OAD6B,GACnBpB,GAAG,CAACqB,KAAJ,CAAUC,QADS;AAE7BC,YAAAA,IAF6B,GAEtBvB,GAAG,CAACqB,KAAJ,CAAUE,IAFY;AAAA;AAAA,mBAI3B,kCAAoBA,IAApB,EAA0BH,OAA1B,EACHlB,IADG,CACE,UAACC,GAAD,EAAS;AACbF,cAAAA,GAAG,CAACG,IAAJ,CAAS;AACPC,gBAAAA,OAAO,EAAE,IADF;AAEPQ,gBAAAA,IAAI,EAAEV;AAFC,eAAT;AAID,aANG,WAOG,UAACY,CAAD,EAAO;AACZC,cAAAA,OAAO,CAACC,KAAR,CAAcF,CAAd;AACAd,cAAAA,GAAG,CAACG,IAAJ,CAAS;AACPC,gBAAAA,OAAO,EAAE,KADF;AAEPQ,gBAAAA,IAAI;AAFG,eAAT;AAID,aAbG,CAJ2B;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAnBM,mBAAmB;AAAA;AAAA;AAAA,GAAzB","sourcesContent":["import {\r\n  getAllBooks,\r\n  getAllProducts,\r\n  getAllBooksAtStores,\r\n} from \"../repositories/products/product\";\r\n\r\nexport const getBooksList = async (req, res) => {\r\n  await getAllBooks(req)\r\n    .then((obj) => {\r\n      res.json({\r\n        success: true,\r\n        cur_page: req.cur_page ? req.cur_page : 1,\r\n        per_page: req.per_page ? req.per_page : null,\r\n        page_items: obj.count,\r\n        page_all: Math.ceil(obj.count / req.per_page),\r\n        data: obj.rows,\r\n      });\r\n    })\r\n    .catch((e) => {\r\n      console.error(e);\r\n      res.json({\r\n        success: false,\r\n        data: `error on getBooksList`,\r\n      });\r\n    });\r\n};\r\n\r\nexport const getProductsList = async (req, res) => {\r\n  await getAllProducts()\r\n    .then((obj) => {\r\n      res.json({\r\n        success: true,\r\n        data: obj,\r\n      });\r\n    })\r\n    .catch((e) => {\r\n      console.error(e);\r\n      res.json({\r\n        success: false,\r\n        data: `error on getBooksList`,\r\n      });\r\n    });\r\n};\r\n\r\nexport const getProductsAtStores = async (req, res) => {\r\n  let storeID = req.query.store_id;\r\n  let isbn = req.query.isbn;\r\n\r\n  await getAllBooksAtStores(isbn, storeID)\r\n    .then((obj) => {\r\n      res.json({\r\n        success: true,\r\n        data: obj,\r\n      });\r\n    })\r\n    .catch((e) => {\r\n      console.error(e);\r\n      res.json({\r\n        success: false,\r\n        data: `error on getProductsAtStores`,\r\n      });\r\n    });\r\n};\r\n"],"file":"productsImpl.js"}