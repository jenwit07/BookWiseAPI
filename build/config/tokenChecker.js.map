{"version":3,"sources":["../../src/config/tokenChecker.js"],"names":["accessModel","db","checkToken","req","res","next","_token","header","count","where","token","then","c","json","success","data","e","console","error"],"mappings":";;;;;;;;;;;;;AAAA;;AACA,IAAMA,WAAW,GAAGC,eAAGD,WAAvB,C,CAIA;;SACsBE,U;;;;;8FAAf,iBAA0BC,GAA1B,EAA+BC,GAA/B,EAAoCC,IAApC;AAAA;;AAAA;AAAA;AAAA;AAAA;AAECC,YAAAA,MAFD,GAEUH,GAAG,CAACI,MAAJ,CAAW,eAAX,CAFV;AAAA;AAAA,mBAIGP,WAAW,CAACQ,KAAZ,CAAkB;AAAEC,cAAAA,KAAK,EAAE;AAAEC,gBAAAA,KAAK,EAAEJ;AAAT;AAAT,aAAlB,EAAgDK,IAAhD,CAAqD,UAACC,CAAD,EAAO;AAC9D,kBAAGA,CAAC,GAAG,CAAP,EAAU;AACNP,gBAAAA,IAAI;AAEP,eAHD,MAGM;AACFD,gBAAAA,GAAG,CAACS,IAAJ,CAAS;AACLC,kBAAAA,OAAO,EAAE,KADJ;AAELC,kBAAAA,IAAI,EAAE;AAFD,iBAAT;AAIH;AAEJ,aAXK,WAWG,UAACC,CAAD,EAAO;AACZC,cAAAA,OAAO,CAACC,KAAR,CAAcF,CAAd;AAEH,aAdK,CAJH;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["import db from '../config/db.config'\r\nconst accessModel = db.accessModel\r\n\r\n\r\n\r\n//TODO : Refresh Token Checker\r\nexport async function checkToken(req, res, next) {\r\n\r\n    let _token = req.header('authorization')\r\n\r\n    await accessModel.count({ where: { token: _token } }).then((c) => {\r\n        if(c > 0) {\r\n            next()\r\n\r\n        }else {\r\n            res.json({\r\n                success: false,\r\n                data: \"Unauthorization\"\r\n            })\r\n        }\r\n\r\n    }).catch((e) => {\r\n        console.error(e)\r\n\r\n    })\r\n}"],"file":"tokenChecker.js"}