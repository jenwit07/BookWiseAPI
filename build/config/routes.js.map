{"version":3,"sources":["../../src/config/routes.js"],"names":["module","exports","app","router","use","req","res","next","console","log","path","query","JSON","stringify","body","get","pagination","getBooksList","getProductsAtStores","getProductsList","getStoreList","post","joiSchemas","createStore","put","putStore","putStoreRequest","deleteStore","deleteStoreRequest","createAddress","putAddress","putAddressRequest","deleteAddress","deleteAddressRequest","getCustomerList","getAuthorList","getAllTransactionList","send","message"],"mappings":"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","sourcesContent":["import { Router } from \"express\";\r\nimport {\r\n  getBooksList,\r\n  getProductsList,\r\n  getProductsAtStores,\r\n} from \"../app/controllers/productsImpl\";\r\nimport { getCustomerList } from \"../app/controllers/customersImpl\";\r\nimport { createStore, deleteStoreRequest, getStoreList, putStoreRequest } from \"../app/controllers/storesImpl\";\r\nimport { getAllTransactionList } from \"../app/controllers/transactionImpl\";\r\nimport { getAuthorList } from \"../app/controllers/authorsImpl\";\r\nimport { pagination, joiValidator } from \"../app/helper/helper\";\r\nimport { verifyRequest } from \"prospect\";\r\nimport joiSchemas from \"../app/schema/schema\";\r\nimport { createAddress, deleteAddressRequest, putAddressRequest } from \"../app/controllers/address\";\r\n\r\n\r\nmodule.exports = function (app) {\r\n  const router = Router();\r\n  app.use(\"/v1\", router);\r\n\r\n  router.use((req, res, next) => {\r\n    console.log(\"**Start Log Request\")\r\n    console.log(\"anakin backend is getting request with path : /v1\" + req.path);\r\n    if (!!!req.query) {\r\n      console.log(\" --> req.query is : \");\r\n      console.log(JSON.stringify(req.query, null, 2));\r\n    }\r\n    if (!!!req.body) {\r\n      console.log(\" --> req.body is : \");\r\n      console.log(JSON.stringify(req.body, null, 2));\r\n    }\r\n    console.log(\"**End Log Request\")\r\n    next();\r\n  });\r\n\r\n  /**\r\n   * get books service\r\n   * @route get /books\r\n   * @summary get list of all book\r\n   * @group Product\r\n   * @param {string} cur_page\r\n   * @param {string} per_page\r\n   * @param {string} isbn\r\n   * @param {string} author_id\r\n   * @param {string} book_title\r\n   * @param {string} book_desc\r\n   * @param {string} status\r\n   * @param {string} author_prices_request\r\n   * @returns {BookResponse.model} 200\r\n   * @returns {Error}  default - Unexpected error\r\n   * @security bearer\r\n   */\r\n  router.get(\"/books\", pagination, getBooksList);\r\n  router.get(\"/stores/product\", getProductsAtStores);\r\n  router.get(\"/products\", getProductsList);\r\n\r\n  /* Stores */\r\n  /**\r\n   * @route GET /stores\r\n   * @group Stores\r\n   * @returns 200 - get all store\r\n   */\r\n  router.get(\"/stores\", pagination,getStoreList);\r\n\r\n  /**\r\n   * @route post /v1/stores\r\n   * @summary create new stores\r\n   * @group Stores\r\n   * @param {RefreshTokenRequest.model} body.body.required\r\n   * @returns {RefreshTokenResponse.model} 201\r\n   * @returns {Error}  default - Unexpected error\r\n   * @security bearer\r\n  */\r\n  router.post(\"/stores\", joiValidator(joiSchemas.createStore), createStore);\r\n\r\n  /**\r\n   * @route put /v1/stores\r\n   * @summary update stores data\r\n   * @group Stores\r\n   * @param {RefreshTokenRequest.model} body.body.required\r\n   * @returns {RefreshTokenResponse.model} 201\r\n   * @returns {Error}  default - Unexpected error\r\n   * @security bearer\r\n  */\r\n  router.put(\"/stores\", joiValidator(joiSchemas.putStore), putStoreRequest);\r\n  \r\n  /**\r\n   * @route delete /v1/stores\r\n   * @summary delete stores\r\n   * @group Stores\r\n   * @param {string} stores_id.query.required\r\n   * @returns {RefreshTokenResponse.model} 201\r\n   * @returns {Error}  default - Unexpected error\r\n   * @security bearer\r\n  */\r\n  router.delete(\"/stores\", joiValidator(joiSchemas.deleteStore), deleteStoreRequest);\r\n\r\n  /**\r\n   * @route post /v1/address\r\n   * @summary create new address\r\n   * @group Address\r\n   * @param {RefreshTokenRequest.model} body.body.required\r\n   * @returns {RefreshTokenResponse.model} 201\r\n   * @returns {Error}  default - Unexpected error\r\n   * @security bearer\r\n  */\r\n  router.post(\"/address\", joiValidator(joiSchemas.createAddress), createAddress);\r\n\r\n  /**\r\n   * @route put /v1/address\r\n   * @summary update address\r\n   * @group Address\r\n   * @param {RefreshTokenRequest.model} body.body.required\r\n   * @returns {RefreshTokenResponse.model} 201\r\n   * @returns {Error}  default - Unexpected error\r\n   * @security bearer\r\n  */\r\n  router.put(\"/address\", joiValidator(joiSchemas.putAddress), putAddressRequest);\r\n\r\n  /**\r\n   * @route delete /v1/address\r\n   * @summary delete address\r\n   * @group Address\r\n   * @param {string} address_id.query.required\r\n   * @returns {RefreshTokenResponse.model} 201\r\n   * @returns {Error}  default - Unexpected error\r\n   * @security bearer\r\n  */\r\n  router.delete(\"/address\", joiValidator(joiSchemas.deleteAddress), deleteAddressRequest);\r\n\r\n\r\n  /* Customers */\r\n  router.get(\"/customers\", getCustomerList);\r\n\r\n  /* Authors */\r\n  router.get(\"/authors\", getAuthorList);\r\n\r\n  /* Transaction */\r\n  router.get(\"/transaction\", getAllTransactionList);\r\n\r\n  //check gitlab\r\n  router.get(\"/gitlab\", (req,res) => res.send({message: \"ok\"}))\r\n};\r\n"],"file":"routes.js"}